{"ast":null,"code":"import _regeneratorRuntime from\"/goinfre/daejlee/my-first-React/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/goinfre/daejlee/my-first-React/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/goinfre/daejlee/my-first-React/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from'react';import{useParams}from'react-router-dom/cjs/react-router-dom.min';import YouTube from'react-youtube';import styles from\"./Detail.module.css\";// npm install react-youtube\n//now we can get id !!\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Detail(){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useParams=useParams(),id=_useParams.id;var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),movie=_useState4[0],setMovie=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),stars=_useState6[0],setStars=_useState6[1];var getStars=function getStars(rating){var stars=\"\";var i=1;for(i;i<rating/2;i++)stars+='‚òÖ';i--;if(rating-i*2>=0.5)stars+='‚òÜ';return stars;};var getMovie=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var json;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://yts.mx/api/v2/movie_details.json?movie_id=\".concat(id));case 2:_context.next=4;return _context.sent.json();case 4:json=_context.sent;console.log(json.data.movie);setMovie(json.data.movie);setStars(getStars(json.data.movie.rating));setLoading(false);case 9:case\"end\":return _context.stop();}},_callee);}));return function getMovie(){return _ref.apply(this,arguments);};}();useEffect(function(){getMovie();});return/*#__PURE__*/_jsx(\"div\",{children:loading?/*#__PURE__*/_jsx(\"h1\",{children:\"Detail page loading...\"}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"a\",{href:movie.url,target:\"_blank\",rel:\"noreferrer\",children:/*#__PURE__*/_jsx(\"h1\",{children:movie.title_long})}),/*#__PURE__*/_jsx(\"img\",{src:movie.large_cover_image,alt:movie.title,href:movie.url}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"h2\",{children:\"About this movie... \\uD83E\\uDDD0\"}),/*#__PURE__*/_jsx(\"p\",{className:styles.description,children:movie.description_full}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"IMDb Rating : \",stars]}),/*#__PURE__*/_jsx(\"h2\",{children:\"Genres : \"}),/*#__PURE__*/_jsx(\"ul\",{className:styles.genre,children:movie.genres.map(function(g){return/*#__PURE__*/_jsx(\"li\",{children:g},g);})}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"Runtime : \",parseInt(movie.runtime/60),\"hr \",movie.runtime%60,\"min\"]}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"Language : \",movie.language]}),/*#__PURE__*/_jsx(\"h2\",{children:\"Youtube Trailer : \"}),/*#__PURE__*/_jsx(YouTube,{videoId:movie.yt_trailer_code,opts:{width:\"650\",height:\"500\"}})]})});}//challenge: add loading, and show movie details by putting json as state\nexport default Detail;","map":{"version":3,"names":["useEffect","useState","useParams","YouTube","styles","jsx","_jsx","jsxs","_jsxs","Detail","_useState","_useState2","_slicedToArray","loading","setLoading","_useParams","id","_useState3","_useState4","movie","setMovie","_useState5","_useState6","stars","setStars","getStars","rating","i","getMovie","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","json","wrap","_callee$","_context","prev","next","fetch","concat","sent","console","log","data","stop","apply","arguments","children","href","url","target","rel","title_long","src","large_cover_image","alt","title","className","description","description_full","genre","genres","map","g","parseInt","runtime","language","videoId","yt_trailer_code","opts","width","height"],"sources":["/goinfre/daejlee/my-first-React/src/routes/Detail.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom/cjs/react-router-dom.min';\nimport YouTube from 'react-youtube';\nimport styles from \"./Detail.module.css\"; // npm install react-youtube\n//now we can get id !!\n\nfunction Detail(){\n\tconst [loading, setLoading] = useState(true);\n\tconst { id } = useParams();\n\tconst [movie, setMovie] = useState([]);\n\tconst [stars, setStars] = useState(\"\");\n\tconst getStars = (rating) => {\n\t\tlet stars = \"\";\n\t\tlet i = 1;\n\t\tfor (i; i < rating / 2; i++)\n\t\t\tstars += '‚òÖ';\n\t\ti--;\n\t\tif (rating - i * 2 >= 0.5)\n\t\t\tstars += '‚òÜ';\n\t\treturn stars;\n\t};\n\tconst getMovie = async () => {\n\t\tconst json = await (await \n\t\tfetch(`https://yts.mx/api/v2/movie_details.json?movie_id=${id}`\n\t\t)).json();\n\t\tconsole.log(json.data.movie);\n\t\tsetMovie(json.data.movie);\n\t\tsetStars(getStars(json.data.movie.rating));\n\t\tsetLoading(false);\n\t\t};\n\tuseEffect(() => {\n\t\tgetMovie();\n\t});\n\treturn (\n\t<div>\n\t\t{loading ? (\n\t\t<h1>Detail page loading...</h1>\n\t\t) : (\n\t\t<div>\n\t\t\t\t<a href={movie.url} target=\"_blank\" rel=\"noreferrer\">\n\t\t\t\t\t<h1>{movie.title_long}</h1>\n\t\t\t\t</a>\n\t\t\t\t<img src={movie.large_cover_image} alt={movie.title} href={movie.url}/>\n\t\t\t\t<hr/>\n\t\t\t\t<h2>About this movie... üßê</h2>\n\t\t\t\t<p className={styles.description}>{movie.description_full}</p>\n\t\t\t\t<h2>IMDb Rating : {stars}</h2>\n\t\t\t\t<h2>Genres : </h2>\n\t\t\t\t<ul className={styles.genre}>\n\t\t\t\t\t{movie.genres.map((g) => (\n\t\t\t\t\t<li key={g}>{g}</li>\n\t\t\t\t\t))}\n\t\t\t\t</ul>\n\t\t\t\t<h2>Runtime : {parseInt(movie.runtime / 60)}hr {movie.runtime % 60}min</h2>\n\t\t\t\t<h2>Language : {movie.language}</h2>\n\t\t\t\t<h2>Youtube Trailer : </h2>\n\t\t\t\t<YouTube\n\t\t\t\t\tvideoId={movie.yt_trailer_code}\n\t\t\t\t\topts={{width: \"650\", height: \"500\"}}\n\t\t\t\t/>\n\t\t</div>)\n\t\t}\n\t</div>\n\t);\n}\n//challenge: add loading, and show movie details by putting json as state\nexport default Detail;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}