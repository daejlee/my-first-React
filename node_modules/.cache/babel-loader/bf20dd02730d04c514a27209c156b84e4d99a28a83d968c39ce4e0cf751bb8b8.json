{"ast":null,"code":"import _slicedToArray from\"/goinfre/daejlee/my-fisrt-JS/React/movie/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import Movie from\"../components/Movie\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Home(){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),movies=_useState4[0],setMovies=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),minScore=_useState6[0],setMinScore=_useState6[1];var _useState7=useState(5),_useState8=_slicedToArray(_useState7,2),curScore=_useState8[0],setCurScore=_useState8[1];var onSubmitt=function onSubmitt(event){event.preventDefault();if(minScore<=0||minScore>=10){setCurScore(0);return;}setCurScore(minScore);setLoading(true);fetch(\"https://yts.mx/api/v2/list_movies.json?minimum_rating=\".concat(minScore,\"&sort_by=year\")).then(function(response){return response.json();}).then(function(json){setMovies(json.data.movies);setLoading(false);});};useEffect(function(){fetch(\"https://yts.mx/api/v2/list_movies.json?minimum_rating=5.0&sort_by=year\").then(function(response){return response.json();}).then(function(json){setMovies(json.data.movies);setLoading(false);});},[]);console.log(movies);return/*#__PURE__*/_jsx(\"div\",{children:loading?/*#__PURE__*/_jsx(\"h1\",{children:\"Loading...\"}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uD83C\\uDF7F Welcome to the Theatre! \\uD83C\\uDF7F\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmitt,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"minScore\",children:\"Minimum Rating : \"}),/*#__PURE__*/_jsx(\"input\",{id:\"minScore\",type:\"number\",value:minScore,onChange:function onChange(e){return setMinScore(e.target.value);},placeholder:\"between 0 and 10\",required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Search\"})]}),curScore!==0?/*#__PURE__*/_jsxs(\"h2\",{children:[\"You are viewing movies that rated higher than \",curScore,\".\"]}):/*#__PURE__*/_jsx(\"h2\",{children:\"Invalid input. Please enter a number between 0 and 10.\"}),/*#__PURE__*/_jsx(\"hr\",{}),movies.map(function(movie){return/*#__PURE__*/_jsx(Movie,{//when rendering comps inside of map\nid:movie.id,coverImg:movie.medium_cover_image,title:movie.title,summary:movie.summary,genres:movie.genres},movie.id);})]})});}export default Home;","map":{"version":3,"names":["useEffect","useState","Movie","jsx","_jsx","jsxs","_jsxs","Home","_useState","_useState2","_slicedToArray","loading","setLoading","_useState3","_useState4","movies","setMovies","_useState5","_useState6","minScore","setMinScore","_useState7","_useState8","curScore","setCurScore","onSubmitt","event","preventDefault","fetch","concat","then","response","json","data","console","log","children","onSubmit","htmlFor","id","type","value","onChange","e","target","placeholder","required","map","movie","coverImg","medium_cover_image","title","summary","genres"],"sources":["/goinfre/daejlee/my-fisrt-JS/React/movie/src/routes/Home.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport Movie from \"../components/Movie\"\n\nfunction Home(){\n\tconst [loading, setLoading] = useState(true);\n\tconst [movies, setMovies] = useState([]);\n\tconst [minScore, setMinScore] = useState(0);\n\tconst [curScore, setCurScore] = useState(5);\n\tconst onSubmitt = (event) => {\n\t\tevent.preventDefault();\n\t\tif (minScore <= 0 || minScore >= 10){\n\t\t\tsetCurScore(0);\n\t\t\treturn ;\n\t\t}\n\t\tsetCurScore(minScore);\n\t\tsetLoading(true);\n\t\tfetch(`https://yts.mx/api/v2/list_movies.json?minimum_rating=${minScore}&sort_by=year`)\n\t\t.then((response) => response.json())\n\t\t.then((json) => {\n\t\t\tsetMovies(json.data.movies);\n\t\t\tsetLoading(false);\n\t\t});\n\t}\n\tuseEffect(() => {\n\t\tfetch(`https://yts.mx/api/v2/list_movies.json?minimum_rating=5.0&sort_by=year`)\n\t\t.then((response) => response.json())\n\t\t.then((json) => {\n\t\t\tsetMovies(json.data.movies);\n\t\t\tsetLoading(false);\n\t\t});\n\t}, []);\n\tconsole.log(movies);\n\treturn (\n\t<div>\n\t\t{loading ? (\n\t\t<h1>Loading...</h1>\n\t\t) : (\n\t\t<div>\n\t\t\t<h1>üçø Welcome to the Theatre! üçø</h1>\n\t\t\t<hr/>\n\t\t\t<form onSubmit={onSubmitt}>\n\t\t\t\t<label htmlFor=\"minScore\">Minimum Rating : </label>\n\t\t\t\t<input\n\t\t\t\t\tid=\"minScore\"\n\t\t\t\t\ttype=\"number\"\n\t\t\t\t\tvalue={minScore}\n\t\t\t\t\tonChange={(e) => setMinScore(e.target.value)}\n\t\t\t\t\tplaceholder=\"between 0 and 10\"\n\t\t\t\t\trequired\n\t\t\t\t/>\n\t\t\t\t<button type=\"submit\">Search</button>\n\t\t\t</form>\n\t\t\t{curScore !== 0 ? (\n\t\t\t<h2>You are viewing movies that rated higher than {curScore}.</h2>) : (\n\t\t\t<h2>Invalid input. Please enter a number between 0 and 10.</h2>\n\t\t\t)}\n\t\t\t<hr/>\n\t\t\t{movies.map((movie) => (\n\t\t\t\t<Movie\n\t\t\t\tkey={movie.id} //when rendering comps inside of map\n\t\t\t\tid={movie.id}\n\t\t\t\tcoverImg={movie.medium_cover_image}\n\t\t\t\ttitle={movie.title}\n\t\t\t\tsummary={movie.summary}\n\t\t\t\tgenres={movie.genres}\n\t\t\t\t/>\n\t\t\t))}\n\t\t</div>\n\t\t)}\n\t</div>\n\t);\n}\n\nexport default Home;"],"mappings":"8HAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,MAAO,CAAAC,KAAK,KAAM,qBAAqB,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEvC,QAAS,CAAAC,IAAIA,CAAA,CAAE,CACd,IAAAC,SAAA,CAA8BP,QAAQ,CAAC,IAAI,CAAC,CAAAQ,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAArCG,OAAO,CAAAF,UAAA,IAAEG,UAAU,CAAAH,UAAA,IAC1B,IAAAI,UAAA,CAA4BZ,QAAQ,CAAC,EAAE,CAAC,CAAAa,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAAjCE,MAAM,CAAAD,UAAA,IAAEE,SAAS,CAAAF,UAAA,IACxB,IAAAG,UAAA,CAAgChB,QAAQ,CAAC,CAAC,CAAC,CAAAiB,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAApCE,QAAQ,CAAAD,UAAA,IAAEE,WAAW,CAAAF,UAAA,IAC5B,IAAAG,UAAA,CAAgCpB,QAAQ,CAAC,CAAC,CAAC,CAAAqB,UAAA,CAAAZ,cAAA,CAAAW,UAAA,IAApCE,QAAQ,CAAAD,UAAA,IAAEE,WAAW,CAAAF,UAAA,IAC5B,GAAM,CAAAG,SAAS,CAAG,QAAZ,CAAAA,SAASA,CAAIC,KAAK,CAAK,CAC5BA,KAAK,CAACC,cAAc,CAAC,CAAC,CACtB,GAAIR,QAAQ,EAAI,CAAC,EAAIA,QAAQ,EAAI,EAAE,CAAC,CACnCK,WAAW,CAAC,CAAC,CAAC,CACd,OACD,CACAA,WAAW,CAACL,QAAQ,CAAC,CACrBP,UAAU,CAAC,IAAI,CAAC,CAChBgB,KAAK,0DAAAC,MAAA,CAA0DV,QAAQ,iBAAe,CAAC,CACtFW,IAAI,CAAC,SAACC,QAAQ,QAAK,CAAAA,QAAQ,CAACC,IAAI,CAAC,CAAC,GAAC,CACnCF,IAAI,CAAC,SAACE,IAAI,CAAK,CACfhB,SAAS,CAACgB,IAAI,CAACC,IAAI,CAAClB,MAAM,CAAC,CAC3BH,UAAU,CAAC,KAAK,CAAC,CAClB,CAAC,CAAC,CACH,CAAC,CACDZ,SAAS,CAAC,UAAM,CACf4B,KAAK,yEAAyE,CAAC,CAC9EE,IAAI,CAAC,SAACC,QAAQ,QAAK,CAAAA,QAAQ,CAACC,IAAI,CAAC,CAAC,GAAC,CACnCF,IAAI,CAAC,SAACE,IAAI,CAAK,CACfhB,SAAS,CAACgB,IAAI,CAACC,IAAI,CAAClB,MAAM,CAAC,CAC3BH,UAAU,CAAC,KAAK,CAAC,CAClB,CAAC,CAAC,CACH,CAAC,CAAE,EAAE,CAAC,CACNsB,OAAO,CAACC,GAAG,CAACpB,MAAM,CAAC,CACnB,mBACAX,IAAA,QAAAgC,QAAA,CACEzB,OAAO,cACRP,IAAA,OAAAgC,QAAA,CAAI,YAAU,CAAI,CAAC,cAEnB9B,KAAA,QAAA8B,QAAA,eACChC,IAAA,OAAAgC,QAAA,CAAI,mDAA6B,CAAI,CAAC,cACtChC,IAAA,QAAI,CAAC,cACLE,KAAA,SAAM+B,QAAQ,CAAEZ,SAAU,CAAAW,QAAA,eACzBhC,IAAA,UAAOkC,OAAO,CAAC,UAAU,CAAAF,QAAA,CAAC,mBAAiB,CAAO,CAAC,cACnDhC,IAAA,UACCmC,EAAE,CAAC,UAAU,CACbC,IAAI,CAAC,QAAQ,CACbC,KAAK,CAAEtB,QAAS,CAChBuB,QAAQ,CAAE,SAAAA,SAACC,CAAC,QAAK,CAAAvB,WAAW,CAACuB,CAAC,CAACC,MAAM,CAACH,KAAK,CAAC,EAAC,CAC7CI,WAAW,CAAC,kBAAkB,CAC9BC,QAAQ,MACR,CAAC,cACF1C,IAAA,WAAQoC,IAAI,CAAC,QAAQ,CAAAJ,QAAA,CAAC,QAAM,CAAQ,CAAC,EAChC,CAAC,CACNb,QAAQ,GAAK,CAAC,cACfjB,KAAA,OAAA8B,QAAA,EAAI,gDAA8C,CAACb,QAAQ,CAAC,GAAC,EAAI,CAAC,cAClEnB,IAAA,OAAAgC,QAAA,CAAI,wDAAsD,CAAI,CAC7D,cACDhC,IAAA,QAAI,CAAC,CACJW,MAAM,CAACgC,GAAG,CAAC,SAACC,KAAK,qBACjB5C,IAAA,CAACF,KAAK,EACS;AACfqC,EAAE,CAAES,KAAK,CAACT,EAAG,CACbU,QAAQ,CAAED,KAAK,CAACE,kBAAmB,CACnCC,KAAK,CAAEH,KAAK,CAACG,KAAM,CACnBC,OAAO,CAAEJ,KAAK,CAACI,OAAQ,CACvBC,MAAM,CAAEL,KAAK,CAACK,MAAO,EALhBL,KAAK,CAACT,EAMV,CAAC,EACF,CAAC,EACE,CACJ,CACG,CAAC,CAEP,CAEA,cAAe,CAAAhC,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}